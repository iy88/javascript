function defaultSortFn(array){var result=array.slice(0);if(result){function swap(array,i,j){var temp=array[i];array[i]=array[j],array[j]=temp}function maxHeapify(array,index,heapSize){for(var iMax,iLeft,iRight;iMax=index,iRight=2*(index+1),(iLeft=2*index+1)<heapSize&&array[index]<array[iLeft]&&(iMax=iLeft),iRight<heapSize&&array[iMax]<array[iRight]&&(iMax=iRight),iMax!=index;)swap(array,iMax,index),index=iMax}function buildMaxHeap(arr){let array=arr.slice(0);var i,iParent;for(i=Math.floor(array.length/2)-1;i>=0;i--)maxHeapify(array,i,array.length)}function sort(array){buildMaxHeap(array);for(var i=array.length-1;i>0;i--)swap(array,0,i),maxHeapify(array,0,i);return array}}else console.error(`heapSort: unkown array ${result}`);return sort(result)}function defaultlcs(wordX,wordY){let found;if(-1!==wordX.indexOf(wordY[0])){let length=[],ap=wordX.searchelement(wordY[0],!0);for(let k=0;k<ap.length;k++)for(let i=ap[k];i<wordX.length;i++)for(let j=ap[k];j<wordY.length&&wordX[i]===wordY[j];j++)null!=length[k]?length[k]++:length[k]=0;let length2=[];ap=wordX.searchelement(wordY[0],!0);for(let k=0;k<ap.length;k++)for(let i=ap[k];i<wordY.length;i++)for(let j=ap[k];j<wordX.length&&wordX[j]===wordY[i];j++)null!=length2[k]?length2[k]++:length2[k]=0;return Math.max(Math.max(...length),Math.max(...length2))}return 0}function Search(){this.config=null,this.__sortFn__=null,this.__lcsFn__=null,this.__rerurnType__=null,this.__isSaveConfig__=null,this.clearConfig=()=>{this.config=null,this.__isSaveConfig__=null},this.doConfig=issave=>{if(null===this.config)throw new Error("please config first!");if(void 0!==this.config.sort){let arr=[2.23,1.4];if(this.config.sort(arr)!==[1.4,2.23]||arr!==[2.23,1.4])throw delete arr,new Error("please use the correct sorting algorithm!");this.__sortFn__=this.config.selfFn.sort}else this.__sortFn__=defaultSortFn;if(void 0!==this.config.lcs){if("number"!=typeof this.config.lcs("abasdjfabadagaga","ab"))throw new Error("lcs function must return a number!");this.__lcsFn__=this.config.selfFn.lcs}else this.__lcsFn__=defaultlcs;"e"===this.config.returnType?this.__rerurnType__=this.config.returnType:this.__rerurnType__="i",this.__isSaveConfig__=!!issave,console.log("search config successfully!")},this.doDefultConfig=()=>{this.config={},this.doConfig()},this.ep=(data,query)=>{let best=[];for(let ap=0;ap<data.length;ap++)data[ap]===query&&best.push(ap);let elements=[];for(let i=0;i<best.length;i++)elements.push(data[best[i]]);return elements},this.ea=(data,query,sortFn,lcsFn)=>{let weightresult=[];for(let searchdataindex=0;searchdataindex<data.length;searchdataindex++)weightresult[weightresult.length]=lcsFn(data[searchdataindex],query)/data[searchdataindex].length;let weightsort=sortFn(weightresult),weightsortresult=[];for(let i=0;i<weightsort.length;i++)0!=weightsort[i]&&weightsortresult.push(...weightresult.searchelement(weightsort[i],!0));let bestindexs=weightsortresult.DeleteDuplication().reverse(),elements=[];for(let i=0;i<bestindexs.length;i++)elements.push(data[bestindexs[i]]);return elements},this.ip=(data,query)=>{let best=[];for(let ap=0;ap<data.length;ap++)data[ap]===query&&best.push(ap);return best},this.ia=(data,query,sortFn,lcsFn)=>{let weightresult=[];for(let searchdataindex=0;searchdataindex<data.length;searchdataindex++)weightresult[weightresult.length]=lcsFn(data[searchdataindex],query)/data[searchdataindex].length;let weightsort=sortFn(weightresult),weightsortresult=[],bestindexs;for(let i=0;i<weightsort.length;i++)0!=weightsort[i]&&weightsortresult.push(...weightresult.searchelement(weightsort[i],!0));return weightsortresult.DeleteDuplication().reverse()},this.doSearch=(data,query)=>{if(null===this.config)throw new Error("please use the 'doConfig' or 'doDefaultConfig to config the search function first!");if(Array.isArray(data)&&"string"==typeof query)return"e"===this.__rerurnType__?(this.__isSaveConfig__||this.clearConfig(),{p:this.ep(data,query),a:this.ea(data,query,this.__sortFn__,this.__lcsFn__)}):(this.__isSaveConfig__||this.clearConfig(),{p:this.ip(data,query),a:this.ia(data,query,this.__sortFn__,this.__lcsFn__)})}}Array.prototype.DeleteDuplication=function(){let arr=[];for(var i=0;i<this.length;i++)-1===arr.indexOf(this[i])&&arr.push(this[i]);return arr},Array.prototype.searchelement=function(element,auto,begin_index,end_index){let indexs=[];if(!0===auto)for(let index=0;index<this.length;index++)this[index]===element&&(indexs[indexs.length]=index);else if(!1===auto)for(let index=begin_index;index<end_index;index++)this[index]===element&&(indexs[indexs.length]=index);else console.error("search element error");return indexs},String.prototype.searchelement=function(element,auto,begin_index,end_index){let indexs=[];if(!0===auto)for(let index=0;index<this.length;index++)this[index]===element&&(indexs[indexs.length]=index);else if(!1===auto)for(let index=begin_index;index<end_index;index++)this[index]===element&&(indexs[indexs.length]=index);else console.error("search element error");return indexs};let s=new Search;s.config={returnType:"e"},s.doConfig(),console.log(s.doSearch(["模拟chrome的dino","贪吃蛇","2048","俄罗斯方块","弹球(打砖块)","赛车","3D赛车","svg赛车","见缝插针","跑酷","超高难度跑酷","飞机大战","小行星战斗","飞行的小球","球球大作战（模拟）","拯救兔子","spacePi","井字棋","破坏方块","旋转消除","塔防","低跑"],"赛车"));